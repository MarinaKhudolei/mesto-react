{"version":3,"sources":["images/logo.svg","components/Header.js","components/PopupWithForm.js","components/ImagePopup.js","images/change-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","PopupWithForm","name","title","formName","buttonTitle","children","isOpen","onClose","onSubmit","id","noValidate","type","aria-label","onClick","PopupWithImage","card","link","CurrentUserContext","React","createContext","Card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","length","Main","onEditProfile","onAddPlace","onEditAvatar","selectedCard","cards","handleCardClick","handleCardLike","handleCardDelete","avatar","imgPath","about","map","ImagePopup","Footer","lang","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","maxLength","minLength","required","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","method","data","body","JSON","stringify","cardId","state","authorization","EditAvatarPopup","onUpdateAvatar","setAvatar","placeholder","AddPlacePopup","setTitle","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setSelectedCard","setCurrentUser","setCards","closeAllPopups","useCallback","changeLikeCardStatus","newCard","newCards","c","catch","err","console","log","deleteCard","filter","all","setProfileInfo","getAllCards","userData","cardsData","Provider","changeProfileInfo","changeAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5955cbc8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img\r\n                src={headerLogo}\r\n                alt=\"Логотип сайта Место.\"\r\n                className=\"header__logo\"\r\n            />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n    name,\r\n    title,\r\n    formName,\r\n    buttonTitle,\r\n    children,\r\n    isOpen,\r\n    onClose,\r\n    onSubmit,\r\n}) {\r\n    return (\r\n        <div className={`modal modal_type_${name} ${isOpen && \"modal_opened\"}`}>\r\n            <div className=\"modal__container\">\r\n                <h3 className=\"modal__title\">{title}</h3>\r\n                <form\r\n                    className={`form form_type_${name}`}\r\n                    name={`${formName}Form`}\r\n                    id={`${formName}Form`}\r\n                    noValidate\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {children}\r\n                    <button\r\n                        className=\"form__submit-button\"\r\n                        type=\"submit\"\r\n                        name=\"submitButton\"\r\n                        aria-label=\"Сохранить изменения\"\r\n                    >\r\n                        {buttonTitle}\r\n                    </button>\r\n                </form>\r\n                <button\r\n                    className=\"modal__close-button\"\r\n                    type=\"button\"\r\n                    name={`${formName}CloseButton`}\r\n                    aria-label=\"Закрыть форму\"\r\n                    onClick={onClose}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nfunction PopupWithImage({ onClose, card }) {\r\n    return (\r\n        <div\r\n            className={`modal modal_type_popup ${\r\n                card != null ? \"modal_opened\" : \"\"\r\n            }`}\r\n        >\r\n            <figure className=\"modal__popup-container\">\r\n                <button\r\n                    className=\"modal__close-button\"\r\n                    type=\"button\"\r\n                    name=\"popupCloseButton\"\r\n                    aria-label=\"Закрыть картинку\"\r\n                    onClick={onClose}\r\n                />\r\n                <img\r\n                    className=\"modal__image\"\r\n                    src={card != null ? card.link : \"#\"}\r\n                    alt={card != null ? card.alt : \"\"}\r\n                />\r\n                <figcaption className=\"modal__caption\">\r\n                    {card != null ? card.name : \"\"}\r\n                </figcaption>\r\n            </figure>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithImage;\r\n","export default __webpack_public_path__ + \"static/media/change-button.8667ac4a.svg\";","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n    /**bind the context */\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    /**handle delete card possibility*/\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = `card__delete-button ${\r\n        isOwn ? \"\" : \"card__delete-button_invisible\"\r\n    }`;\r\n\r\n    /**handle put likes possibility*/\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `card__button ${\r\n        isLiked ? \"card__button_liked\" : \"\"\r\n    }`;\r\n\r\n    /**handle button clicks */\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <div className=\"places__card card\">\r\n            <button\r\n                type=\"button\"\r\n                className={cardDeleteButtonClassName}\r\n                name=\"deleteButton\"\r\n                aria-label=\"Удалить карточку\"\r\n                onClick={handleDeleteClick}\r\n            />\r\n            <img\r\n                className=\"card__image\"\r\n                src={card.link}\r\n                alt={card.alt}\r\n                onClick={handleClick}\r\n            />\r\n            <div className=\"card__rating\">\r\n                <h2 className=\"card__title\">{card.name}</h2>\r\n                <div className=\"card__likes\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className={cardLikeButtonClassName}\r\n                        name=\"likeButton\"\r\n                        aria-label=\"Поставить лайк\"\r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p className=\"card__like\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport imgPath from \"../images/change-button.svg\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Main = ({\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    selectedCard,\r\n    onClose,\r\n    cards,\r\n    handleCardClick,\r\n    handleCardLike,\r\n    handleCardDelete,\r\n}) => {\r\n    /**bind the context */\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <>\r\n            <main className=\"content\">\r\n                <section className=\"profile\">\r\n                    <div className=\"profile__content\">\r\n                        <div\r\n                            className=\"profile__image-container\"\r\n                            onClick={onEditAvatar}\r\n                        >\r\n                            <img\r\n                                className=\"profile__image\"\r\n                                src={currentUser.avatar}\r\n                                alt=\"Фото профиля.\"\r\n                            />\r\n                            <img\r\n                                className=\"profile__image-shadow\"\r\n                                src={imgPath}\r\n                                alt=\"Изменить аватар.\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"profile__container\">\r\n                            <div className=\"profile__info\">\r\n                                <p className=\"profile__name\">\r\n                                    {currentUser.name}\r\n                                </p>\r\n                                <p className=\"profile__profession\">\r\n                                    {currentUser.about}\r\n                                </p>\r\n                            </div>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"profile__change-button\"\r\n                                name=\"changeButton\"\r\n                                aria-label=\"Изменить профиль\"\r\n                                onClick={onEditProfile}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"content__add-button\"\r\n                        name=\"addButton\"\r\n                        aria-label=\"Добавить карточку\"\r\n                        onClick={onAddPlace}\r\n                    />\r\n                </section>\r\n                <section className=\"places\">\r\n                    {cards.map((card) => (\r\n                        <Card\r\n                            key={card._id}\r\n                            card={card}\r\n                            onCardClick={handleCardClick}\r\n                            onCardLike={handleCardLike}\r\n                            onCardDelete={handleCardDelete}\r\n                        />\r\n                    ))}\r\n                </section>\r\n            </main>\r\n\r\n            <ImagePopup onClose={onClose} card={selectedCard} />\r\n\r\n            <PopupWithForm\r\n                name=\"delete-card\"\r\n                title=\"Вы уверены?\"\r\n                formName=\"deleteCard\"\r\n                buttonTitle=\"Да\"\r\n                onClose={onClose}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\" lang=\"en\">\r\n                &copy; 2020 Mesto Russia\r\n            </p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({\r\n    isOpen,\r\n    onClose,\r\n    onUpdateUser,\r\n}) {\r\n    const currentUser = React.useContext(CurrentUserContext); \r\n\r\n    const [name, setName] = React.useState(\"\");\r\n    const [description, setDescription] = React.useState(\"\");\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-profile\"\r\n            title=\"Редактировать профиль\"\r\n            formName=\"changeProfile\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_name\"\r\n                    type=\"text\"\r\n                    value={name || \"\"}\r\n                    onChange={handleNameChange}\r\n                    name=\"formName\"\r\n                    id=\"formName\"\r\n                    maxLength=\"40\"\r\n                    minLength=\"2\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formName-error\" />\r\n            </label>\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_profession\"\r\n                    type=\"text\"\r\n                    value={description || \"\"}\r\n                    onChange={handleDescriptionChange}\r\n                    name=\"formProf\"\r\n                    id=\"formProf\"\r\n                    maxLength=\"200\"\r\n                    minLength=\"2\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formProf-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: this._headers,\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link,\r\n            }),\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    setProfileInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    changeProfileInfo(data) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about,\r\n            }),\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar,\r\n            }),\r\n        }).then(this._getResponseData);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, state) {\r\n        if (state) {\r\n            return fetch(`${this._url}cards/likes/${cardId}`, {\r\n                method: \"PUT\",\r\n                headers: this._headers,\r\n            }).then(this._getResponseData);\r\n        } else {\r\n            return fetch(`${this._url}cards/likes/${cardId}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers,\r\n            }).then(this._getResponseData);\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: \"https://mesto.nomoreparties.co/v1/cohort-15/\",\r\n    headers: {\r\n        authorization: \"30a3bd81-193f-43b5-9132-49b9701e93a2\",\r\n        \"content-type\": \"application/json\",\r\n    },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({\r\n    isOpen,\r\n    onClose,\r\n    onUpdateAvatar,\r\n}) {\r\n    const [avatar, setAvatar] = React.useState(\"\");\r\n\r\n    function handleAvatarChange(e) {\r\n        setAvatar(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatar,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            title=\"Обновить аватар\"\r\n            formName=\"changeAvatar\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_avatar-link\"\r\n                    type=\"url\"\r\n                    value={avatar || \"\"}\r\n                    onChange={handleAvatarChange}\r\n                    placeholder=\"Ссылка на аватар\"\r\n                    name=\"formAvatarLink\"\r\n                    id=\"formAvatarLink\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formAvatarLink-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({\r\n    isOpen,\r\n    onClose,\r\n    onAddPlace,\r\n}) {\r\n    const [title, setTitle] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n    \r\n    function handleTitleChange(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({\r\n            name: title,\r\n            link: link,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-place\"\r\n            title=\"Новое место\"\r\n            formName=\"addPlace\"\r\n            buttonTitle=\"Создать\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_title\"\r\n                    type=\"text\"\r\n                    value={title || \"\"}\r\n                    onChange={handleTitleChange}\r\n                    placeholder=\"Название\"\r\n                    name=\"formTitle\"\r\n                    id=\"formTitle\"\r\n                    maxLength=\"30\"\r\n                    minLength=\"1\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formTitle-error\" />\r\n            </label>\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_image-link\"\r\n                    type=\"url\"\r\n                    value={link || \"\"}\r\n                    onChange={handleLinkChange}\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    name=\"formImageLink\"\r\n                    id=\"formImageLink\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formImageLink-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useCallback } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n    /**create state variables*/\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n        false\n    );\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n        false\n    );\n\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    /**change profile info*/\n    const handleUpdateUser = (data) => {\n        api.changeProfileInfo(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .then(closeAllPopups)\n            .catch((err) => console.log(err));\n    };\n\n    /**handle popup openings*/\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(true);\n    };\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(true);\n    };\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(true);\n    };\n\n    const handleUpdateAvatar = (data) => {\n        api.changeAvatar(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .then(closeAllPopups)\n            .catch((err) => console.log(err));\n    };\n\n    /**handle popup closings*/\n    const closeAllPopups = () => {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(null);\n    };\n\n    /**handle cards*/\n    const handleAddPlaceSubmit = (data) => {\n        api.addCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n            })\n            .then(closeAllPopups)\n            .catch((err) => console.log(err));\n    };\n\n    const handleCardClick = useCallback((card) => {\n        setSelectedCard(card);\n    }, []);\n\n    const handleCardLike = useCallback(\n        (card) => {\n            const isLiked = card.likes.some((i) => i._id === currentUser._id);\n            api.changeLikeCardStatus(card._id, !isLiked)\n                .then((newCard) => {\n                    const newCards = cards.map((c) =>\n                        c._id === card._id ? newCard : c\n                    );\n                    setCards(newCards);\n                })\n                .catch((err) => console.log(err));\n        },\n        [cards, currentUser._id]\n    );\n\n    const handleCardDelete = useCallback(\n        (card) => {\n            api.deleteCard(card._id)\n                .then(() => {\n                    const newCards = cards.filter((c) =>\n                        c._id === card._id ? \"\" : c\n                    );\n                    setCards(newCards);\n                })\n                .catch((err) => console.log(err));\n        },\n        [cards]\n    );\n\n    /**set profile and cards info*/\n    React.useEffect(() => {\n        Promise.all([api.setProfileInfo(), api.getAllCards()])\n            .then(([userData, cardsData]) => {\n                setCurrentUser(userData);\n                setCards(cardsData);\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <div className=\"page__container\">\n                    <Header />\n                    <Main\n                        onEditProfile={handleEditProfileClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onAddPlace={handleAddPlaceClick}\n                        isEditProfilePopupOpen={isEditProfilePopupOpen}\n                        isAddPlacePopupOpen={isAddPlacePopupOpen}\n                        isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n                        selectedCard={selectedCard}\n                        onClose={closeAllPopups}\n                        cards={cards}\n                        handleCardClick={handleCardClick}\n                        handleCardLike={handleCardLike}\n                        handleCardDelete={handleCardDelete}\n                    />\n                    <Footer />\n                    <EditProfilePopup\n                        isOpen={isEditProfilePopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                    />\n                    <EditAvatarPopup\n                        isOpen={isEditAvatarPopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                    />\n                    <AddPlacePopup\n                        isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}\n                    />\n                </div>\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}