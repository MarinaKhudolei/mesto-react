{"version":3,"sources":["images/logo.svg","components/Header.js","components/PopupWithForm.js","components/ImagePopup.js","images/change-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/EditProfilePopup.js","utils/api.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","PopupWithForm","name","title","formName","buttonTitle","children","isOpen","onClose","onSubmit","id","noValidate","type","aria-label","onClick","PopupWithImage","card","link","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","onCardClick","onCardLike","length","Main","onEditProfile","onAddPlace","onEditAvatar","selectedCard","cards","avatar","imgPath","about","map","ImagePopup","Footer","lang","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","maxLength","minLength","required","api","config","this","_url","url","_headers","headers","fetch","then","res","ok","json","Promise","reject","method","data","body","JSON","stringify","cardId","state","authorization","EditAvatarPopup","onUpdateAvatar","setAvatar","placeholder","AddPlacePopup","setTitle","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","setSelectedCard","setCurrentUser","setCards","setProfileInfo","userData","catch","err","console","log","closeAllPopups","handleCardClick","useCallback","handleCardLike","changeLikeCardStatus","newCard","newCards","c","handleCardDelete","deleteCard","filter","getAllCards","cardsData","item","Provider","changeProfileInfo","changeAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78afb1e3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\r\nimport headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img\r\n                src={headerLogo}\r\n                alt=\"Логотип сайта Место.\"\r\n                className=\"header__logo\"\r\n            />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n    name,\r\n    title,\r\n    formName,\r\n    buttonTitle,\r\n    children,\r\n    isOpen,\r\n    onClose,\r\n    onSubmit,\r\n}) {\r\n    return (\r\n        <div\r\n            className={`modal modal_type_${name} ${\r\n                isOpen ? \"modal_opened\" : \"\"\r\n            }`}\r\n        >\r\n            <div className=\"modal__container\">\r\n                <h3 className=\"modal__title\">{title}</h3>\r\n                <form\r\n                    className={`form form_type_${name}`}\r\n                    name={`${formName}Form`}\r\n                    id={`${formName}Form`}\r\n                    noValidate\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {children}\r\n                    <button\r\n                        className=\"form__submit-button\"\r\n                        type=\"submit\"\r\n                        name=\"submitButton\"\r\n                        aria-label=\"Сохранить изменения\"\r\n                    >\r\n                        {buttonTitle}\r\n                    </button>\r\n                </form>\r\n                <button\r\n                    className=\"modal__close-button\"\r\n                    type=\"button\"\r\n                    name={`${formName}CloseButton`}\r\n                    aria-label=\"Закрыть форму\"\r\n                    onClick={onClose}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nfunction PopupWithImage({ onClose, card }) {\r\n    return (\r\n        <div\r\n            className={`modal modal_type_popup ${\r\n                card != null ? \"modal_opened\" : \"\"\r\n            }`}\r\n        >\r\n            <figure className=\"modal__popup-container\">\r\n                <button\r\n                    className=\"modal__close-button\"\r\n                    type=\"button\"\r\n                    name=\"popupCloseButton\"\r\n                    aria-label=\"Закрыть картинку\"\r\n                    onClick={onClose}\r\n                />\r\n                <img\r\n                    className=\"modal__image\"\r\n                    src={card != null ? card.link : \"#\"}\r\n                    alt={card != null ? card.alt : \"\"}\r\n                />\r\n                <figcaption className=\"modal__caption\">\r\n                    {card != null ? card.name : \"\"}\r\n                </figcaption>\r\n            </figure>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithImage;\r\n","export default __webpack_public_path__ + \"static/media/change-button.8667ac4a.svg\";","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n    /**bind the context */\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    /**handle delete card possibility*/\r\n    const isOwn = props.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = `card__delete-button ${\r\n        isOwn ? \"\" : \"card__delete-button_invisible\"\r\n    }`;\r\n\r\n    /**handle put likes possibility*/\r\n    const isLiked = props.likes.some((i) => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `card__button ${\r\n        isLiked ? \"card__button_liked\" : \"\"\r\n    }`;\r\n\r\n    /**handle button clicks */\r\n    function handleClick() {\r\n        props.onCardClick({\r\n            link: props.link,\r\n            name: props.name,\r\n            alt: props.alt,\r\n        });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props);\r\n    }\r\n\r\n    return (\r\n        <div className=\"places__card card\">\r\n            <button\r\n                type=\"button\"\r\n                className={cardDeleteButtonClassName}\r\n                name=\"deleteButton\"\r\n                aria-label=\"Удалить карточку\"\r\n                onClick={handleDeleteClick}\r\n            />\r\n            <img\r\n                className=\"card__image\"\r\n                src={props.link}\r\n                alt={props.alt}\r\n                onClick={handleClick}\r\n            />\r\n            <div className=\"card__rating\">\r\n                <h2 className=\"card__title\">{props.name}</h2>\r\n                <div className=\"card__likes\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className={cardLikeButtonClassName}\r\n                        name=\"likeButton\"\r\n                        aria-label=\"Поставить лайк\"\r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p className=\"card__like\">{props.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport imgPath from \"../images/change-button.svg\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nconst Main = ({\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    selectedCard,\r\n    onClose,\r\n    cards,\r\n}) => {\r\n    /**bind the context */\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <>\r\n            <main className=\"content\">\r\n                <section className=\"profile\">\r\n                    <div className=\"profile__content\">\r\n                        <div\r\n                            className=\"profile__image-container\"\r\n                            onClick={onEditAvatar}\r\n                        >\r\n                            <img\r\n                                className=\"profile__image\"\r\n                                src={currentUser.avatar}\r\n                                alt=\"Фото профиля.\"\r\n                            />\r\n                            <img\r\n                                className=\"profile__image-shadow\"\r\n                                src={imgPath}\r\n                                alt=\"Изменить аватар.\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"profile__container\">\r\n                            <div className=\"profile__info\">\r\n                                <p className=\"profile__name\">\r\n                                    {currentUser.name}\r\n                                </p>\r\n                                <p className=\"profile__profession\">\r\n                                    {currentUser.about}\r\n                                </p>\r\n                            </div>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"profile__change-button\"\r\n                                name=\"changeButton\"\r\n                                aria-label=\"Изменить профиль\"\r\n                                onClick={onEditProfile}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"content__add-button\"\r\n                        name=\"addButton\"\r\n                        aria-label=\"Добавить карточку\"\r\n                        onClick={onAddPlace}\r\n                    />\r\n                </section>\r\n                <section className=\"places\">\r\n                    {cards.map((props) => (\r\n                        <Card key={props._id} {...props} />\r\n                    ))}\r\n                </section>\r\n            </main>\r\n\r\n            <ImagePopup onClose={onClose} card={selectedCard} />\r\n\r\n            <PopupWithForm\r\n                name=\"delete-card\"\r\n                title=\"Вы уверены?\"\r\n                formName=\"deleteCard\"\r\n                buttonTitle=\"Да\"\r\n                onClose={onClose}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\" lang=\"en\">\r\n                &copy; 2020 Mesto Russia\r\n            </p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n    /**bind the context */\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    /**create state variables */\r\n    const [name, setName] = React.useState(\"\");\r\n    const [description, setDescription] = React.useState(\"\");\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-profile\"\r\n            title=\"Редактировать профиль\"\r\n            formName=\"changeProfile\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_name\"\r\n                    type=\"text\"\r\n                    value={name || \"\"}\r\n                    onChange={handleNameChange}\r\n                    name=\"formName\"\r\n                    id=\"formName\"\r\n                    maxLength=\"40\"\r\n                    minLength=\"2\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formName-error\" />\r\n            </label>\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_profession\"\r\n                    type=\"text\"\r\n                    value={description || \"\"}\r\n                    onChange={handleDescriptionChange}\r\n                    name=\"formProf\"\r\n                    id=\"formProf\"\r\n                    maxLength=\"200\"\r\n                    minLength=\"2\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formProf-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: this._headers,\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        });\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        });\r\n    }\r\n\r\n    addCard(data) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link,\r\n            }),\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        });\r\n    }\r\n\r\n    setProfileInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: \"GET\",\r\n            headers: this._headers,\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        });\r\n    }\r\n\r\n    changeProfileInfo(data) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about,\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        })\r\n    }\r\n\r\n    changeAvatar(data) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        }).then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject('Произошла ошибка');\r\n        })\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, state) {\r\n        if(state) {\r\n            return fetch(`${this._url}cards/likes/${cardId}`, {\r\n                method: \"PUT\",\r\n                headers: this._headers,\r\n            }).then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject('Произошла ошибка');\r\n            });  \r\n        } else {\r\n            return fetch(`${this._url}cards/likes/${cardId}`, {\r\n                method: \"DELETE\",\r\n                headers: this._headers,\r\n            }).then((res) => {\r\n                if (res.ok) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject('Произошла ошибка');\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    url: \"https://mesto.nomoreparties.co/v1/cohort-15/\",\r\n    headers: {\r\n        authorization: \"30a3bd81-193f-43b5-9132-49b9701e93a2\",\r\n        \"content-type\": \"application/json\",\r\n    },\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const [avatar, setAvatar] = React.useState(\"\");\r\n\r\n    function handleChange(e) {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatar,\r\n        });\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            title=\"Обновить аватар\"\r\n            formName=\"changeAvatar\"\r\n            buttonTitle=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_avatar-link\"\r\n                    type=\"url\"\r\n                    value={avatar || \"\"}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Ссылка на аватар\"\r\n                    name=\"formAvatarLink\"\r\n                    id=\"formAvatarLink\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formAvatarLink-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    const [title, setTitle] = React.useState(\"\");\r\n    const [link, setLink] = React.useState(\"\");\r\n\r\n    function handleTitleChange(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({\r\n            name: title,\r\n            link: link,\r\n        });\r\n\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-place\"\r\n            title=\"Новое место\"\r\n            formName=\"addPlace\"\r\n            buttonTitle=\"Создать\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_title\"\r\n                    type=\"text\"\r\n                    title={title || \"\"}\r\n                    onChange={handleTitleChange}\r\n                    placeholder=\"Название\"\r\n                    name=\"formTitle\"\r\n                    id=\"formTitle\"\r\n                    maxLength=\"30\"\r\n                    minLength=\"1\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formTitle-error\" />\r\n            </label>\r\n            <label className=\"form__label\">\r\n                <input\r\n                    className=\"form__item form__item_type_image-link\"\r\n                    type=\"url\"\r\n                    link={link || \"\"}\r\n                    onChange={handleLinkChange}\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    name=\"formImageLink\"\r\n                    id=\"formImageLink\"\r\n                    required\r\n                />\r\n                <span className=\"form__error\" id=\"formImageLink-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useCallback } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n    /**create state variables*/\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n        false\n    );\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n        false\n    );\n\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState([]);\n    const [cards, setCards] = React.useState([]);\n\n    /**set profile info*/\n    React.useEffect(() => {\n        api.setProfileInfo()\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .catch((err) => console.log(err));\n    }, []);\n\n    /**change profile info*/\n    const handleUpdateUser = (data) => {\n        api.changeProfileInfo(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    /**handle popup openings*/\n    const handleEditAvatarClick = () => {\n        setIsEditAvatarPopupOpen(true);\n    };\n\n    const handleEditProfileClick = () => {\n        setIsEditProfilePopupOpen(true);\n    };\n\n    const handleAddPlaceClick = () => {\n        setIsAddPlacePopupOpen(true);\n    };\n\n    const handleUpdateAvatar = (data) => {\n        api.changeAvatar(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    /**handle popup closings*/\n    const closeAllPopups = () => {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard(null);\n    };\n\n    /**handle cards*/\n    const handleAddPlaceSubmit = (data) => {\n        api.addCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n            })\n            .catch((err) => console.log(err));\n    };\n\n    const handleCardClick = useCallback((card) => {\n        setSelectedCard(card);\n    }, []);\n\n    const handleCardLike = useCallback(\n        (card) => {\n            const isLiked = card.likes.some((i) => i._id === currentUser._id);\n            api.changeLikeCardStatus(card._id, !isLiked)\n                .then((newCard) => {\n                    const newCards = cards.map((c) =>\n                        c._id === card._id ? newCard : c\n                    );\n                    setCards(newCards);\n                })\n                .catch((err) => console.log(err));\n        },\n        [cards, currentUser._id]\n    );\n\n    const handleCardDelete = useCallback(\n        (card) => {\n            api.deleteCard(card._id)\n                .then(() => {\n                    const newCards = cards.filter((c) =>\n                        c._id === card._id ? \"\" : c\n                    );\n                    setCards(newCards);\n                })\n                .catch((err) => console.log(err));\n        },\n        [cards]\n    );\n\n    React.useEffect(() => {\n        api.getAllCards()\n            .then((cardsData) => {\n                setCards(\n                    cardsData.map((item) => ({\n                        _id: item._id,\n                        link: item.link,\n                        alt: item.name,\n                        name: item.name,\n                        likes: item.likes,\n                        owner: item.owner,\n                        onCardClick: handleCardClick,\n                        onCardLike: handleCardLike,\n                        onCardDelete: handleCardDelete,\n                    }))\n                );\n            })\n            .catch((err) => console.log(err));\n    }, [handleCardClick, handleCardLike, handleCardDelete]);\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <div className=\"page__container\">\n                    <Header />\n                    <Main\n                        onEditProfile={handleEditProfileClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onAddPlace={handleAddPlaceClick}\n                        handleCardClick={handleCardClick}\n                        isEditProfilePopupOpen={isEditProfilePopupOpen}\n                        isAddPlacePopupOpen={isAddPlacePopupOpen}\n                        isEditAvatarPopupOpen={isEditAvatarPopupOpen}\n                        selectedCard={selectedCard}\n                        onClose={closeAllPopups}\n                        cards={cards}\n                    />\n                    <Footer />\n                    <EditProfilePopup\n                        isOpen={isEditProfilePopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateUser={handleUpdateUser}\n                    />\n                    <EditAvatarPopup\n                        isOpen={isEditAvatarPopupOpen}\n                        onClose={closeAllPopups}\n                        onUpdateAvatar={handleUpdateAvatar}\n                    />\n                    <AddPlacePopup\n                        isOpen={isAddPlacePopupOpen}\n                        onClose={closeAllPopups}\n                        onAddPlace={handleAddPlaceSubmit}\n                    />\n                </div>\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}